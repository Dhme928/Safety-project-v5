*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{font-family:"Lato",system-ui,sans-serif;background:#e9edf5;color:#1e293b;-webkit-font-smoothing:antialiased}
:root{--primary-start:#007b8f;--primary-end:#0063c7;--card-bg:#ffffff;--card-border:rgba(15,23,42,0.06);--surface-soft:#f5f7fb;--nav-bg:#ffffff;--accent-green:#00b36b;--accent-orange:#ff8f2c;--accent-red:#e4363a;--accent-blue:#1c84ff;--text-main:#111827;--text-soft:#6b7280;--shadow-soft:0 16px 30px rgba(15,23,42,0.12);--radius-large:28px;--radius-card:18px}
body.dark-mode{background:radial-gradient(circle at top,#0f172a,#020617 52%);color:#e5e7eb}
body.dark-mode .app-header{box-shadow:0 18px 40px rgba(0,0,0,0.6)}
body.dark-mode .content-area{background:linear-gradient(180deg,#020617 0%,#020617 100%)}
body.dark-mode .home-card,body.dark-mode .obs-summary-bar,body.dark-mode .obs-filters,body.dark-mode .library-card,body.dark-mode .tool-card,body.dark-mode .admin-card{background:rgba(15,23,42,0.96);border-color:rgba(148,163,184,0.2);color:#e5e7eb}
body.dark-mode .accordion{background:linear-gradient(90deg,#020617 0%,#111827 100%);color:#e5e7eb}
body.dark-mode .panel{background:rgba(15,23,42,0.96);color:#e5e7eb}
body.dark-mode .nav-bar{background:rgba(15,23,42,0.95);box-shadow:0 -10px 30px rgba(0,0,0,0.7)}
body.dark-mode .nav-button{color:#cbd5f5}
body.dark-mode .nav-button.active{background:radial-gradient(circle at top,#0ea5e9,#22c55e);color:#fff}
body.dark-mode .obs-card{background:rgba(15,23,42,0.96);color:#e5e7eb;border-color:rgba(148,163,184,0.3)}
body.dark-mode .modal-content{background:#1e293b;color:#e5e7eb}
body.dark-mode input,body.dark-mode select,body.dark-mode textarea{background:#0f172a;color:#e5e7eb;border-color:rgba(148,163,184,0.4)}
body.dark-mode .more-menu{background:#1e293b;border-color:rgba(148,163,184,0.3)}
body.dark-mode .more-menu button{color:#e5e7eb}
body.dark-mode .tool-section{background:rgba(15,23,42,0.96);color:#e5e7eb}
body.dark-mode .tool-section table{color:#e5e7eb}
body.dark-mode .tool-section td,body.dark-mode .tool-section th{border-color:rgba(148,163,184,0.3)}
.app-container{max-width:1280px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column}
.app-header{margin:.75rem .75rem 0;padding:1rem 1.25rem;border-radius:999px;background:linear-gradient(90deg,var(--primary-start),var(--primary-end));color:#fff;display:flex;align-items:center;justify-content:space-between;box-shadow:0 18px 35px rgba(15,23,42,0.35);position:sticky;top:0;z-index:30}
.header-title-area{display:flex;align-items:center;gap:.75rem}
.header-logo{width:46px;height:46px;border-radius:999px;object-fit:cover;background:#fff;padding:3px;box-shadow:0 0 0 2px rgba(255,255,255,0.5)}
.header-text h1{font-family:"Poppins",sans-serif;font-size:1.1rem;font-weight:700;line-height:1.2}
.header-subtitle{font-size:.75rem;opacity:.9;margin-top:.1rem}
.header-actions{display:flex;align-items:center;gap:.5rem}
.points-display{display:flex;align-items:center;gap:.3rem;background:rgba(255,255,255,0.2);padding:.3rem .6rem;border-radius:999px;font-size:.8rem;font-weight:600}
.points-display i{color:#fbbf24}
.mode-toggle,.news-toggle,.logout-btn{width:38px;height:38px;border-radius:999px;border:2px solid rgba(255,255,255,0.5);background:rgba(15,23,42,0.25);display:flex;align-items:center;justify-content:center;color:#ffeaa7;cursor:pointer;transition:transform .2s,box-shadow .2s}
.mode-toggle:hover,.news-toggle:hover,.logout-btn:hover{transform:translateY(-1px);box-shadow:0 8px 20px rgba(0,0,0,0.35)}
.logout-btn{color:#f87171;border-color:#f87171}
.content-area{flex:1;overflow-y:auto;padding:.5rem .75rem 5.5rem}
.tab-content{display:none}
.tab-content.active{display:block}
.nav-bar{position:fixed;bottom:0;left:0;right:0;margin:.75rem;padding:.25rem;border-radius:999px;background:var(--nav-bg);display:flex;align-items:center;justify-content:space-between;gap:.25rem;box-shadow:0 -14px 30px rgba(15,23,42,0.25);z-index:40}
.nav-button{flex:1;border-radius:999px;border:none;padding:.4rem .3rem .25rem;background:transparent;color:#6b7280;font-size:.68rem;display:flex;flex-direction:column;align-items:center;gap:.05rem;cursor:pointer;transition:background .2s,color .2s}
.nav-button .nav-icon{font-size:1rem}
.nav-button.active{background:radial-gradient(circle at top,#12b981,#0ea5e9);color:#fff;transform:translateY(-1px)}
.more-menu{position:fixed;bottom:5rem;right:.75rem;background:#fff;border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,0.2);padding:.5rem;z-index:50;border:1px solid rgba(148,163,184,0.3)}
.more-menu button{display:flex;align-items:center;gap:.6rem;width:100%;padding:.6rem .8rem;border:none;background:none;font-size:.85rem;cursor:pointer;border-radius:10px}
.more-menu button:hover{background:rgba(148,163,184,0.1)}
.more-menu button i{width:20px;color:var(--accent-blue)}
.home-kpi-row{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem;margin-bottom:.9rem}
.home-kpi-card{border-radius:20px;padding:.7rem .9rem;color:#fff;box-shadow:0 12px 26px rgba(0,0,0,0.2)}
.home-kpi-card.kpi-green{background:linear-gradient(135deg,#15803d,#22c55e)}
.home-kpi-card.kpi-blue{background:linear-gradient(135deg,#0369a1,#0ea5e9)}
.home-kpi-card.kpi-orange{background:linear-gradient(135deg,#c2410c,#f97316)}
.home-kpi-label{font-size:.65rem;text-transform:uppercase;letter-spacing:.04em;opacity:.95}
.home-kpi-value{font-size:1.4rem;font-weight:700;margin-top:.15rem}
.month-color-line{font-size:.85rem;color:var(--text-soft);margin:.5rem 0 .75rem;display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}
.month-color-badge{padding:.18rem .9rem;border-radius:999px;font-weight:700;font-size:.85rem;text-transform:uppercase;border:1px solid rgba(148,163,184,0.6)}
.month-color-badge.color-red{background:#fee2e2;color:#b91c1c;border-color:#fecaca}
.month-color-badge.color-blue{background:#dbeafe;color:#1d4ed8;border-color:#bfdbfe}
.month-color-badge.color-green{background:#dcfce7;color:#15803d;border-color:#bbf7d0}
.month-color-badge.color-yellow{background:#fef9c3;color:#b45309;border-color:#fef08a}
.home-card{background:var(--card-bg);border-radius:var(--radius-card);margin-bottom:.9rem;border:1px solid var(--card-border);padding:.85rem .95rem;box-shadow:0 8px 22px rgba(15,23,42,0.06)}
.home-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.45rem}
.home-card-header h3{font-size:.95rem;font-weight:700;display:flex;align-items:center;gap:.4rem}
.home-card-header i{color:var(--accent-orange)}
.highlight-card{border-left:4px solid #fbbf24;background:radial-gradient(circle at top left,#fffbeb,#fef9c3)}
.link-button{border:none;background:transparent;color:var(--accent-orange);font-size:.75rem;cursor:pointer;text-transform:uppercase;letter-spacing:.08em}
.accordion{width:100%;border:none;text-align:left;padding:.7rem .9rem;margin-top:.45rem;border-radius:18px;background:linear-gradient(90deg,var(--primary-start),var(--primary-end));color:#fff;font-size:.85rem;font-weight:600;display:flex;align-items:center;gap:.6rem;cursor:pointer;box-shadow:0 10px 24px rgba(15,23,42,0.35)}
.accordion i{width:22px;text-align:center}
.panel{padding:.6rem .85rem .8rem;border-radius:0 0 16px 16px;background:rgba(248,250,252,0.98);border:1px solid rgba(148,163,184,0.35);border-top:none;display:none;font-size:.82rem;margin-bottom:.3rem;max-height:260px;overflow-y:auto}
.panel ol,.panel ul{padding-left:1.35rem;margin-bottom:.25rem}
.panel li{margin-bottom:.25rem}
.gps-btn{margin-top:.5rem;padding:.45rem .7rem;border-radius:999px;border:none;background:#0ea5e9;color:#fff;font-size:.8rem;display:inline-flex;align-items:center;gap:.35rem;cursor:pointer}
.gps-result{margin-top:.35rem;font-size:.78rem;color:var(--text-soft)}
.links-list{list-style:none;padding:0}
.links-list li{margin-bottom:.4rem}
.links-list a{color:var(--accent-blue);text-decoration:none}
.obs-summary-bar{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem;margin-bottom:.9rem}
.obs-summary-item{padding:.65rem .7rem;border-radius:18px;color:#fff;text-align:left;box-shadow:0 10px 22px rgba(0,0,0,0.3)}
.obs-summary-item.summary-purple{background:linear-gradient(135deg,#312e81,#6366f1)}
.obs-summary-item.summary-green{background:linear-gradient(135deg,#15803d,#22c55e)}
.obs-summary-item.summary-red{background:linear-gradient(135deg,#991b1b,#ef4444)}
.obs-summary-item.summary-blue{background:linear-gradient(135deg,#0369a1,#0ea5e9)}
.obs-summary-item.summary-orange{background:linear-gradient(135deg,#c2410c,#f97316)}
.obs-summary-label{font-size:.7rem;text-transform:uppercase;letter-spacing:.08em}
.obs-summary-value{font-size:1.25rem;font-weight:700}
.obs-filters{background:var(--card-bg);border-radius:20px;padding:.8rem;border:1px solid var(--card-border);box-shadow:0 8px 18px rgba(15,23,42,0.06);margin-bottom:.9rem}
.obs-filter-row{display:flex;gap:.45rem;margin-bottom:.5rem}
.obs-filter-chip{flex:1;padding:.45rem .35rem;border-radius:999px;border:none;background:#020617;color:#e5e7eb;font-size:.75rem;cursor:pointer;opacity:.55}
.obs-filter-chip.active{background:#22c55e;color:#fff;opacity:1}
.obs-filter-row select,.obs-filter-row input[type="text"]{flex:1;border-radius:999px;border:1px solid rgba(148,163,184,0.7);padding:.4rem .6rem;font-size:.8rem}
#observationsList,#permitsList,#equipmentList,#tbtList{display:flex;flex-direction:column;gap:.5rem}
.obs-card{position:relative;overflow:hidden;border-radius:18px;background:linear-gradient(135deg,#f9fafb,#e5edf9);color:var(--text-main);padding:.55rem .7rem .65rem .9rem;border:1px solid var(--card-border);box-shadow:0 8px 18px rgba(15,23,42,0.08);cursor:pointer;transition:transform .12s,box-shadow .12s}
.obs-card:hover{transform:translateY(-1px);box-shadow:0 12px 26px rgba(15,23,42,0.14)}
.obs-card::before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:#cbd5f5}
.obs-card.risk-high::before{background:#ef4444}
.obs-card.risk-medium::before{background:#f97316}
.obs-card.risk-low::before{background:#22c55e}
.obs-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.2rem}
.obs-card-badges{display:flex;align-items:center;gap:.3rem}
.badge{border-radius:999px;padding:.12rem .55rem;font-size:.7rem;font-weight:600}
.badge-high{background:#cc2900;color:#fff}
.badge-medium{background:#ff6600;color:#fff}
.badge-low{background:#00b300;color:#fff}
.status-pill{border-radius:999px;padding:.12rem .55rem;font-size:.7rem;font-weight:600}
.status-pill.status-open{background:#00b300;color:#fff}
.status-pill.status-closed{background:#cc2900;color:#fff}
.obs-card-title{font-size:.82rem;font-weight:600}
.obs-card-date{font-size:.75rem;opacity:.85}
.obs-description{font-size:.78rem;color:var(--text-soft);margin-top:.2rem}
.obs-chip-row{display:flex;flex-wrap:wrap;gap:.25rem;font-size:.7rem;margin-top:.3rem}
.obs-chip{border-radius:999px;padding:.12rem .45rem;border:1px solid rgba(148,163,184,0.7);background:rgba(148,163,184,0.1)}
.obs-open-sheet-btn{display:inline-flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border-radius:999px;background:linear-gradient(90deg,var(--primary-start),var(--primary-end));color:#fff;font-size:.8rem;font-weight:600;border:none;cursor:pointer;box-shadow:0 8px 20px rgba(0,0,0,0.2)}
.modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.6);z-index:100;align-items:center;justify-content:center;padding:1rem}
.modal.show{display:flex}
.modal-content{background:#fff;border-radius:20px;padding:1.2rem;max-width:500px;width:100%;max-height:85vh;overflow-y:auto;position:relative}
.modal-content h2{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;margin-bottom:1rem}
.modal-content h2 i{color:var(--accent-orange)}
.close-btn{position:absolute;top:.8rem;right:.8rem;width:32px;height:32px;border-radius:999px;border:none;background:rgba(148,163,184,0.2);font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center}
.auth-modal{text-align:center}
.auth-tabs{display:flex;gap:.5rem;margin-bottom:1rem}
.auth-tab{flex:1;padding:.5rem;border:none;background:rgba(148,163,184,0.2);border-radius:999px;cursor:pointer;font-weight:600}
.auth-tab.active{background:linear-gradient(90deg,var(--primary-start),var(--primary-end));color:#fff}
.auth-form{display:flex;flex-direction:column;gap:.6rem}
.auth-form input{padding:.6rem .8rem;border:1px solid rgba(148,163,184,0.5);border-radius:12px;font-size:.9rem}
.auth-submit-btn{padding:.6rem;border:none;border-radius:12px;background:linear-gradient(90deg,var(--primary-start),var(--primary-end));color:#fff;font-weight:600;cursor:pointer}
.auth-error{color:#ef4444;font-size:.8rem;min-height:1.2rem}
.form-modal form{display:flex;flex-direction:column;gap:.6rem}
.form-modal input,.form-modal select,.form-modal textarea{padding:.5rem .7rem;border:1px solid rgba(148,163,184,0.5);border-radius:12px;font-size:.85rem}
.form-modal .form-row{display:flex;gap:.5rem}
.form-modal .form-row>*{flex:1}
.form-modal label{font-size:.75rem;color:var(--text-soft);margin-bottom:.2rem;display:block}
.file-upload-area{border:2px dashed rgba(148,163,184,0.5);border-radius:12px;padding:.6rem;text-align:center}
.file-upload-area label{font-size:.8rem;color:var(--text-soft);display:block;margin-bottom:.3rem}
.file-upload-area input{font-size:.75rem}
.submit-btn{padding:.6rem;border:none;border-radius:12px;background:linear-gradient(90deg,#15803d,#22c55e);color:#fff;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.4rem}
.table-scroll{overflow-x:auto}
.emergency-table{width:100%;border-collapse:collapse;font-size:.8rem}
.emergency-table th,.emergency-table td{padding:.4rem .5rem;border-bottom:1px solid rgba(148,163,184,0.3);text-align:left}
.emergency-table th{background:rgba(148,163,184,0.1);font-weight:600}
.emergency-table a{color:var(--accent-blue);text-decoration:none}
.library-grid,.tools-grid,.admin-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.75rem;margin-bottom:1rem}
.library-card,.tool-card,.admin-card{background:var(--card-bg);border-radius:16px;padding:1rem;text-align:center;cursor:pointer;border:1px solid var(--card-border);box-shadow:0 8px 20px rgba(0,0,0,0.06);transition:transform .15s}
.library-card:hover,.tool-card:hover,.admin-card:hover{transform:translateY(-2px)}
.library-card i,.tool-card i,.admin-card i{font-size:1.8rem;color:var(--accent-blue);margin-bottom:.5rem;display:block}
.library-card h3{font-size:.9rem;margin-bottom:.2rem}
.library-card p{font-size:.75rem;color:var(--text-soft)}
.tool-card span,.admin-card span{font-size:.8rem;font-weight:600}
#libraryContent{margin-top:1rem}
.back-btn{display:inline-flex;align-items:center;gap:.4rem;padding:.4rem .8rem;border:none;border-radius:999px;background:rgba(148,163,184,0.2);font-size:.8rem;cursor:pointer;margin-bottom:.6rem}
#librarySearch{width:100%;padding:.5rem .8rem;border:1px solid rgba(148,163,184,0.5);border-radius:999px;margin-bottom:.8rem;font-size:.85rem}
#libraryList{display:flex;flex-direction:column;gap:.5rem}
.library-item{padding:.6rem .8rem;background:var(--card-bg);border-radius:12px;border:1px solid var(--card-border);display:flex;align-items:center;justify-content:space-between}
.library-item-title{font-size:.85rem;font-weight:500}
.library-item a{color:var(--accent-blue);font-size:.8rem}
.tool-section{background:var(--card-bg);border-radius:16px;padding:1rem;margin-top:.8rem;border:1px solid var(--card-border)}
.tool-section h3{display:flex;align-items:center;gap:.5rem;font-size:1rem;margin-bottom:.8rem}
.tool-section h3 i{color:var(--accent-orange)}
.calculator-form{display:flex;flex-direction:column;gap:.5rem}
.calculator-form label{font-size:.8rem;color:var(--text-soft)}
.calculator-form input{padding:.5rem;border:1px solid rgba(148,163,184,0.5);border-radius:10px;font-size:.9rem}
.result-card{background:rgba(148,163,184,0.1);border-radius:12px;padding:.8rem;text-align:center;margin-top:.5rem}
.result-label{font-size:.75rem;color:var(--text-soft);text-transform:uppercase}
.result-value{font-size:1.5rem;font-weight:700;margin:.2rem 0}
.result-status{font-size:.8rem}
.wind-limits{margin-top:.8rem;font-size:.8rem}
.wind-limits h4{margin-bottom:.4rem}
.wind-limits ul{padding-left:1.2rem}
.wind-limits li{margin-bottom:.3rem}
.training-matrix table,.risk-matrix table{width:100%;border-collapse:collapse;font-size:.75rem}
.training-matrix th,.training-matrix td,.risk-matrix th,.risk-matrix td{padding:.4rem;border:1px solid rgba(148,163,184,0.3);text-align:center}
.training-matrix th,.risk-matrix th{background:rgba(148,163,184,0.15);font-weight:600}
.risk-low{background:#dcfce7;color:#15803d}
.risk-medium{background:#fef9c3;color:#b45309}
.risk-high{background:#fee2e2;color:#b91c1c}
.risk-extreme{background:#7c2d12;color:#fff}
.life-saving-rules{display:flex;flex-direction:column;gap:.5rem}
.rule-item{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:rgba(148,163,184,0.1);border-radius:10px;font-size:.8rem}
.rule-item i{color:#22c55e}
.challenges-intro{font-size:.85rem;color:var(--text-soft);margin-bottom:.8rem}
#challengesList{display:flex;flex-direction:column;gap:.5rem}
.challenge-card{background:rgba(148,163,184,0.1);border-radius:12px;padding:.8rem;display:flex;justify-content:space-between;align-items:center}
.challenge-info h4{font-size:.85rem;margin-bottom:.2rem}
.challenge-info p{font-size:.75rem;color:var(--text-soft)}
.challenge-points{background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#fff;padding:.3rem .6rem;border-radius:999px;font-size:.75rem;font-weight:600}
.challenge-complete-btn{padding:.4rem .8rem;border:none;border-radius:999px;background:linear-gradient(90deg,var(--primary-start),var(--primary-end));color:#fff;font-size:.75rem;cursor:pointer;margin-top:.4rem}
.challenge-completed{color:#22c55e;font-size:.8rem;font-weight:600}
.leaderboard-mini-item{display:flex;align-items:center;gap:.5rem;margin-bottom:.4rem}
.leaderboard-medal{width:32px;height:32px;border-radius:999px;display:flex;align-items:center;justify-content:center;font-size:.9rem}
.medal-gold{background:#fef3c7;color:#b45309}
.medal-silver{background:#e5e7eb;color:#4b5563}
.medal-bronze{background:#ffedd5;color:#92400e}
.leaderboard-name{font-weight:600;font-size:.85rem}
.leaderboard-points{font-size:.75rem;color:var(--text-soft)}
.leaderboard-row{display:flex;align-items:center;gap:.5rem;padding:.4rem 0;border-bottom:1px solid rgba(148,163,184,0.2)}
.leaderboard-rank{width:2rem;font-weight:600;color:var(--text-soft)}
.leaderboard-row-name{flex:1;font-weight:500}
.leaderboard-row-points{font-size:.8rem;color:#0f766e;font-weight:500}
.news-item{padding:.6rem;background:rgba(148,163,184,0.1);border-radius:12px;margin-bottom:.5rem}
.news-item.priority-urgent{border-left:4px solid #ef4444}
.news-item.priority-important{border-left:4px solid #f59e0b}
.news-item h4{font-size:.9rem;margin-bottom:.2rem}
.news-item p{font-size:.8rem;color:var(--text-soft)}
.news-item .news-meta{font-size:.7rem;color:var(--text-soft);margin-top:.3rem}
@media(min-width:768px){.home-kpi-row{grid-template-columns:repeat(4,1fr)}.library-grid,.tools-grid{grid-template-columns:repeat(4,1fr)}.modal-content{max-width:600px}}
